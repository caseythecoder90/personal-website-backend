spring:
  application:
    name: personal-website-backend
    version: @project.version@

  jackson:
    default-property-inclusion: non_null

  datasource:
    url: jdbc:postgresql://localhost:5432/casquinn_personal_website
    username: casquinn
    password: Ku^a4MoADdqLf4n>ka,d
    driver-class-name: org.postgresql.Driver
    hikari:
      pool-name: PersonalWebsitePool
      minimum-idle: 2
      maximum-pool-size: 10
      idle-timeout: 300000        # 5 minutes
      max-lifetime: 1800000       # 30 minutes
      connection-timeout: 20000   # 20 seconds

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        format_sql: true
    open-in-view: false

  thymeleaf:
    enabled: false

  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:db/migration

  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 10MB
      file-size-threshold: 2MB

# Cloudinary configuration
cloudinary:
  cloud-name: dwdaehpml
  api-key: 582556696859121
  api-secret: BtaCljW-rB1J_T8l7iWMoTMc5tg
  folder: portfolio-images
  secure: true

# JWT configuration
jwt:
  secret: ${JWT_SECRET:your-256-bit-secret-key-change-this-in-production-minimum-32-characters}
  expiration: 86400000  # 24 hours in milliseconds
  refresh-expiration: 604800000  # 7 days in milliseconds

# Jasypt encryption
jasypt:
  encryptor:
    password: ${JASYPT_ENCRYPTOR_PASSWORD:default-dev-password-change-in-prod}
    algorithm: PBEWithHMACSHA512AndAES_256
    iv-generator-classname: org.jasypt.iv.RandomIvGenerator

# Resend email configuration
resend:
  api-key: ${RESEND_API_KEY:re_placeholder_change_in_prod}
  from-email: "Casey Quinn <noreply@caseyquinn.com>"
  owner-email: ${OWNER_EMAIL:casey@caseyquinn.com}

# Application-specific configuration
app:
  images:
    max-per-project: 20
    max-per-blog-post: 20
  resume:
    max-file-size: 5242880

# Server configuration
server:
  port: 8080
  error:
    include-message: always
    include-binding-errors: always

# Logging configuration
logging:
  level:
    com.caseyquinn.personal_website: INFO
    org.springframework.security: INFO
    org.hibernate.orm.connections.pooling: WARN
  pattern:
    console: "%d{HH:mm:ss.SSS} %-5level [%16.16thread] %36.36logger{36} - %msg%n"
